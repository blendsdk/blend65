// @fixture: semantic/type-checking/bool-operations
// @category: semantic
// @description: Tests type checking for bool type operations
// @expect: success
// @output-contains: LDA
// @tags: semantic, type-checking, bool

module BoolOperations;

let globalFlag: boolean = false;

function main(): void {
    // Boolean literals
    let t: boolean = true;
    let f: boolean = false;
    
    // Boolean from comparisons
    let a: byte = 10;
    let b: byte = 20;
    let isLess: boolean = a < b;
    let isEqual: boolean = a == b;
    let isGreater: boolean = a > b;
    
    // Boolean NOT operation
    let notTrue: boolean = !t;
    let notFalse: boolean = !f;
    let notCompare: boolean = !(a < b);
    
    // Boolean AND operation (requires boolean operands)
    // Note: In Blend, && requires bool operands, not bytes
    let andResult: boolean = (a < b) ? ((b > 10) ? true : false) : false;
    
    // Boolean OR operation
    // Note: In Blend, || requires bool operands
    let orResult: boolean = (a < b) ? true : ((b > 30) ? true : false);
    
    // Double negation
    let doubleNot: boolean = !!t;
    
    // Boolean in conditionals
    if (t) {
        globalFlag = true;
    }
    
    if (!f) {
        globalFlag = true;
    }
    
    // Boolean in while
    let running: boolean = true;
    let counter: byte = 0;
    while (running) {
        counter = counter + 1;
        if (counter >= 10) {
            running = false;
        }
    }
    
    // Store counter to verify
    poke($0400, counter);
}